@model TripViewModel
@using Evv.Helpers;
@{

    ViewData["Title"] = "Home Page";
}

<div class="container-fluid">
        <h3 class="text-dark mb-4">Add a trip</h3>
        <div class="card shadow">
            <div class="card-header py-3">
                <p class="text-primary m-0 fw-bold">Trip Info</p>
            </div>
            <div class="card-body">
                <form>
                @Html.ValidationSummary()
                <div class="row" style="margin-right: 8px;margin-left: 8px;">
                    <div class="col" style="padding: 12px;">
                        <div class="form-group">
                            <label asp-for="DateCreated" class="control-label">Date</label>
                            <input asp-for="DateCreated" class="form-control" lang="en" type="date" />
                        </div>
                        <div class="form-group">
                            <label asp-for="People" class="control-label">People</label>
                            <input asp-for="People" type="number" class="form-control" placeholder="Enter amount of people" value="1" id="PeopleInput"/>
                        </div>
                    </div>
                    <div class="col-lg-5" style="padding: 12px;">
                        <div class="form-group">
                            <label class="control-label">Means of transport</label>
                            @Html.DropDownList(nameof(Model.Vehicle_Modifier), Model.VehicleModifierSelectList, new { @class = "form-control", @onchange = "SetState()", @id = "ModeOfTransport"})
                        </div>
                                <div class="form-group">
                                   <label asp-for="Distance" class="control-label">Distance (KM)</label>
                                   <input asp-for="Distance" class="form-control" type="text" placeholder="Enter distance" />
                                </div>
                        </div>
                        <div class="col d-flex d-sm-flex d-lg-flex flex-column align-items-center justify-content-sm-center align-items-sm-center align-items-lg-center" style="padding: 12px;">
                            <div class="form-group">
                                <input class="form-control btn btn-primary" type="submit" value="Add trip"/>
                            </div>
                        </div>
                    </div>
                </form>
                <section>
                    <hr>
                    <br>
                    <p> Vehicle: @Model.Vehicle_Modifier.GetDescription() <br> Penalty Points: @Model.score <br> People: @Model.People <br> Distance: @Model.Distance <br> Date: @Model.DateCreated.ToString("dd/MM/yyyy")</p>
                    <br>
                </section>
            </div>
        </div>
</div>

<script>
    function SetState(){
        let TransportCode = document.getElementById("ModeOfTransport").value;

        if(TransportCode == 20 || TransportCode == 0 || TransportCode == 6 || TransportCode == 182){
            document.getElementById("PeopleInput").readOnly = true;
        }
        else{
            document.getElementById("PeopleInput").readOnly = false;
        }
    }

</script>
